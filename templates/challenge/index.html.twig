{% extends 'app.html.twig' %}

{% block nav %}<twig:Navbar active="exercises"/>{% endblock %}
{% block title %}練習題目 – {{ question.title }}{% endblock %}

{% block app %}
    <div>
        <twig:Challenge:SolutionVideoModal id="challenge-solution-video-modal" :question="question" :user="user" />
    </div>

    <main>
        <twig:Challenge:Header class="mb-2" :question="question" :limit="limit" :user="user" />
        <hr>
        <section class="challenge-primary row g-4">
            <div class="challenge-primary__left col-12 col-md-6">
                <twig:Challenge:Executor class="mt-4" :question="question" :user="user">
                    <twig:block name="actions">
                        <div class="btn-group">
                            <button type="button" class="btn btn-outline-secondary">指引</button>
                            {% if question.solutionVideo %}
                            <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#challenge-solution-video-modal">解答影音</button>
                            {% endif %}
                        </div>
                    </twig:block>
                </twig:Challenge:Executor>

                <h4 class="mt-4">說明</h4>
                <twig:Challenge:Description class="mt-4" :question="question" loading="defer" />
            </div>

            <div class="challenge-primary__right col-12 col-md-6">
                <twig:Challenge:ResultPresenter :question="question" :user="user" />
            </div>
        </section>

        <section class="challenge-comment mt-4">
            <h3 class="mb-3">留言區</h3>
            <turbo-frame
                    id="app-challenge-comment"
                    src="{{ path('app_challenge_comment', {id: question.id}) }}"
            ></turbo-frame>
        </section>
    </main>
{% endblock %}
